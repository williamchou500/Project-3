<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Human Balance Animation - Paired Comparison</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script type = "module" src="./global.js"></script>
</head>
<body>
  <h1>How does music affect our standing still movements?</h1>
  <h2>Analysis of swaying movements under a variety of conditions suggested that the addition of music diminished overall displacement over time</h2>

  <div class="controls">
    <div class="arrow" id="leftArrow">‚óÄ</div>
    <div class="pair-label-container">
      <div class="pair-label" id="pairLabel">ECR vs ECN</div>
    </div>
    <div class="arrow" id="rightArrow">‚ñ∂</div>
    <button class='button' id="play">‚ñ∂Ô∏è Play</button>
    <button class='button' id="pause">‚è∏Ô∏è Pause</button>
    <button class="button" id="restart">üîÅ Restart</button>
    <button class="button" id="skip">‚è≠Ô∏è Skip</button>
    <label for="speedSelect">Animation Speed:</label>
    <select id="speedSelect">
      <option value="20">20x</option>
      <option value="10" selected>10x</option>
      <option value="4">4x</option>
      <option value="2">2x</option>
      <option value="1">1x</option>
      <option value="0.5">0.5x</option>
    </select>
  </div>

  <details>
    <summary><strong>How to Use the Interface?</strong></summary>
    <ol>
      <li><strong>Browse Categories:</strong> Use the ‚óÑ ‚ñ∫ arrows to navigate.</li>
      <li><strong>Control Animation:</strong>
        <ul>
          <li><strong>Play:</strong> Start the animation.</li>
          <li><strong>Pause:</strong> Pause it.</li>
          <li><strong>Restart:</strong> Restart from beginning.</li>
          <li><strong>Skip:</strong> Jump to final state.</li>
        </ul>
      </li>
      <li><strong>Adjust Speed:</strong> Use the dropdown to control playback speed.</li>
      <li><strong>Interact:</strong> Hover over figures for tooltips.</li>
    </ol>
  </details>

<div style="display: grid; grid-template-columns: subgrid; justify-content: space-between; align-items: flex-start; gap: 30px; margin-top: 20px;">
  <div class="overview">
    <p style="display: flex; grid-row: 1; grid-column: 1; margin-bottom: 0;">The stick figure animation represents the average body sway based on data collected from 28 participants under each condition.
      At each second, the x- and y-axis positions are averaged across all participants to simulate how the "average" person moved in that condition.</p>
    </div>
  <div class="overview">   
    <p style="display: flex; grid-row: 1; grid-column: 2; margin-bottom: 0;">The line chart shows the average displacement from the origin (in millimeters) over time.
      It is calculated from the same 28-participant datasets, with displacement values averaged at each second for the selected condition.</p>
  </div>
      <!-- Left visualization and overview -->
  <div style="display: flex; flex-direction: column; align-items: center; grid-row: 2; grid-column: 1;">
    <!-- <p>The stick figure animation represents the average body sway based on data collected from 28 participants under each condition.
      At each second, the x- and y-axis positions are averaged across all participants to simulate how the "average" person moved in that condition.</p> -->
    <svg id="svg1" width="800" height="600"></svg>
  </div>

  <!-- Right visualization and overview -->
  <div style="display: flex; flex-direction: column; align-items: center; grid-row: 2; grid-column: 2;">
    <!-- <p>The line chart shows the average displacement from the origin (in millimeters) over time.
      It is calculated from the same 28-participant datasets, with displacement values averaged at each second for the selected condition.</p> -->
    <svg id="svg2" width="800" height="600"></svg>
  </div>
</div>

  <div id="legend" style="margin-top: 10px;"></div>

  <div id="tooltip" class="tooltip" style="opacity: 0;"></div>

<div class="write-up" style="line-height: 150%; margin-left: 35em; margin-right: 35em;">
  <h2 style="margin-top: 3em;">Rationale for design decisions:</h2> 
  <p style="margin-bottom: 3em;">We chose a dataset that measures the sway of a person under different conditions, mainly consisting of shifts in the x- and y-coordinates over time. Creating an engaging, useful interactive visualization was a bit complicated because the changes in the data were very subtle.
We started by graphing the data in scatter plots and bar charts, trying to see whether there was a clear pattern. We noticed that, in most cases, music made people sway less, so we started thinking about how to show that difference interactively. At first, we created a visualization of a dot shifting over time to see if viewers could perceive the movement differences. But we realized that tracking a single dot didn't really help convey the difference in sway effectively.
That's when we decided to create a wobbling stick figure representing a human, using data from conditions like VR on, eyes closed, and music on or off for all of the samples. When the first animation worked and we saw a noticeable difference between the figures with and without music, we decided to show two stick figures wobbling side by side. Using all 28 samples required viewers taking unnecessary steps of changing between samples and made noticing the patterns more confusing, therefore, we made a decision to use the average data for x and y coordinates per second. However, even with two figures, the difference was still a bit hard to notice at times, so we added a line chart that appears as the figures move, showing the precise scale of their movement over time. To make the comparison even clearer, we also added tooltips showing the average sway for each condition. We kept the color palette and design simple and neutral to avoid distracting from the movement comparisons.
  </p>
  <h2>Overview of development process:</h2>
  <p style="margin-bottom: 3em;">
  Before the first meeting, we split the workload by having each of our four members create two exploratory and/or interactive visualizations of their choice. We wanted to see as many different ideas as possible before narrowing down the final design. Each exploratory project took about four hours per student as the dataset was quite complex.
Once we decided to build on the stick figure idea, we worked together to sketch a prototype of the final website on paper, figuring out where to put each feature. While coming up with the ideas took about 4 hours each, building the final version took much more time. We worked through several drafts and kept running into coding issues: tooltips appeared in the wrong locations, one of the stick figures would disappear, and parts of the dataset would cause the visualizations to break.
We were constantly discussing new features, changing the layout and style, and fixing bugs over several days, with everyone picking up different tasks to help each other. The second phase of development took each team member well over 20 hours before we got to a version of the website that we were happy with.
  </p>

  <h2>Made By:</h2>
  <p style="margin-bottom: 10em; line-height: 200%;">
    <a class="wobblers" >THE</a> <a class="wobblers" style="color: purple">W</a><a class="wobblers" style="color: magenta">O</a><a class="wobblers" style="color: pink">B</a><a class="wobblers" style="color: red">B</a><a class="wobblers" style="color: orange">L</a><a class="wobblers" style="color: yellow">E</a><a class="wobblers" style="color: yellowgreen">R</a><a class="wobblers" style="color: green;">S</a><a class="wobblers" style="color: cyan">!</a><a class="wobblers" style="color: blue">!</a><a class="wobblers" style="color: purple">!</a><br><br>
    Chang-Yu Lee<br>
    Jimmy Huang<br>
    Hanna Serykava<br>
    William Chou
  </p>
  
</div>

<p style="text-align: left; font-size: 75%;">
    Source: Streepey, J., & Dent, S. (2021). Body Sway When Standing and Listening to Music Modified to Reinforce Virtual Reality Environment Motion (version 1.0.0). PhysioNet. https://doi.org/10.13026/x32c-cz47.
</p>

</body>
</html>
